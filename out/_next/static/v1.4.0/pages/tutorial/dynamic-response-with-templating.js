(window.webpackJsonp=window.webpackJsonp||[]).push([["c309"],{HO6Z:function(e,l,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tutorial/dynamic-response-with-templating",function(){var e=t("uWQW");return{page:e.default||e}}])},uWQW:function(e,l,t){"use strict";t.r(l);var a=t("q1tI"),n=t.n(a),r=t("kB0P"),m={title:"Create dynamic responses with templating",description:"Create dynamic responses for your mock server with Mockoon's templating system."};l.default=function(){return n.a.createElement(r.a,{meta:m},n.a.createElement("div",{className:"content"},"Mockoon's implements ",n.a.createElement("a",{href:"https://github.com/webroo/dummy-json",target:"_blank"},"Dummy JSON")," library in order to create dynamic responses. This templating system is supported in response's ",n.a.createElement("strong",null,"body"),", ",n.a.createElement("strong",null,"headers"),", ",n.a.createElement("strong",null,"file content"),", and ",n.a.createElement("strong",null,"file path"),".",n.a.createElement("h3",null,"Available helpers"),n.a.createElement("p",null,"Dummy JSON offers lots of built-in helpers: ",n.a.createElement("code",null,"repeat"),", ",n.a.createElement("code",null,"int"),", ",n.a.createElement("code",null,"float"),", ",n.a.createElement("code",null,"date"),", ",n.a.createElement("code",null,"time"),", ",n.a.createElement("code",null,"title"),", ",n.a.createElement("code",null,"firstName"),", ",n.a.createElement("code",null,"lastName"),", ",n.a.createElement("code",null,"company"),", ",n.a.createElement("code",null,"latitude"),", ",n.a.createElement("code",null,"longitude"),", ",n.a.createElement("code",null,"domain"),", ",n.a.createElement("code",null,"TLD"),", ",n.a.createElement("code",null,"email"),", ",n.a.createElement("code",null,"street"),", ",n.a.createElement("code",null,"city"),", ",n.a.createElement("code",null,"country"),", ",n.a.createElement("code",null,"phone"),", ",n.a.createElement("code",null,"color"),", ",n.a.createElement("code",null,"hexColor"),", ",n.a.createElement("code",null,"guid"),", ",n.a.createElement("code",null,"ipv4"),", ",n.a.createElement("code",null,"ipv6"),", ",n.a.createElement("code",null,"lorem"),", ",n.a.createElement("code",null,"lowercase"),", ",n.a.createElement("code",null,"uppercase"),", etc. Please have a look at ",n.a.createElement("a",{href:"https://github.com/webroo/dummy-json#available-helpers",target:"_blank"},"Dummy JSON documentation")," to learn how to use them."),n.a.createElement("p",null,"In addition to these helpers, some custom ones have been added to Mockoon:"),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("code",null,"array 'item1' 'item2' 'item3'"),": create an array from items (to be used in the next helpers oneOf, someOf)"),n.a.createElement("li",null,n.a.createElement("code",null,"oneOf (array 'item1' 'item2' 'item3')"),": select a random item in the array passed in parameters"),n.a.createElement("li",null,n.a.createElement("code",null,"someOf (array 'item1' 'item2' 'item3') x y"),": select x to y random items in the array passed in parameters"),n.a.createElement("li",null,n.a.createElement("code",null,"#switch ... #case ... #default"),": select content depending on a variable, like a normal switch :) (see example below)")),n.a.createElement("p",null,"Mockoon also supports the following helpers which can gather request information:"),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("code",null,"body 'path' 'default value'"),": get a path from a request body JSON. Path has the following form: ",n.a.createElement("code",null,"key.0.key.5.key")," (syntax is based on NPM ",n.a.createElement("code",null,"object-path")," package)"),n.a.createElement("li",null,n.a.createElement("code",null,"urlParam 'paramName1'"),": get a param from the URL ",n.a.createElement("code",null,"/:paramName1/:paramName2")),n.a.createElement("li",null,n.a.createElement("code",null,"queryParam 'param1' 'default value'"),": get a param from the query string ",n.a.createElement("code",null,"?param1=xxx&param2=yyy")," or a default value if param is not present"),n.a.createElement("li",null,n.a.createElement("code",null,"header 'Header-Name' 'default value'"),": get content from any request header or a default value if header is not present"),n.a.createElement("li",null,n.a.createElement("code",null,"hostname"),": get request hostname"),n.a.createElement("li",null,n.a.createElement("code",null,"ip"),": get request IP address"),n.a.createElement("li",null,n.a.createElement("code",null,"method "),": get request method (GET, PUT, POST, etc.)")),n.a.createElement("h3",null,"Body and file content templating"),n.a.createElement("p",null,"Templating will work in the body textarea without consideration for the Content-Type that has been defined. It will also work with files content for a limited set of MIME types (",n.a.createElement("code",null,"application/json"),", ",n.a.createElement("code",null,"text/html"),", ",n.a.createElement("code",null,"text/css"),", ",n.a.createElement("code",null,"text/csv"),", ",n.a.createElement("code",null,"application/javascript"),", ",n.a.createElement("code",null,"application/typescript"),", ",n.a.createElement("code",null,"text/plain"),", ",n.a.createElement("code",null,"application/xhtml+xml"),", ",n.a.createElement("code",null,"application/xml"),")."),n.a.createElement("p",null,"Here is an example of what you can do with this templating system:"),n.a.createElement("p",null,n.a.createElement("code",null,"{",n.a.createElement("br",null),'   "userId": "{{ urlParam \'id\'}}",',n.a.createElement("br",null),"   \"name\": \"{{ queryParam 'name' 'John' }}\",",n.a.createElement("br",null),"   \"lang\": \"{{{header 'Accept-Language' 'en'}}}\",",n.a.createElement("br",null),"   \"elementTitle\": \"{{ body 'elements.0.title' 'default' }}\",",n.a.createElement("br",null),'   "ip": "{{ ip }}",',n.a.createElement("br",null),'   "method": "{{ method }}",',n.a.createElement("br",null),'   "hostname": "{{ hostname }}",',n.a.createElement("br",null),'   "friends": [',n.a.createElement("br",null),"     {{#repeat 2}}",n.a.createElement("br",null),"     {",n.a.createElement("br",null),'       "id": {{@index}},',n.a.createElement("br",null),'       "name": "{{ firstName }} {{ lastName }}"',n.a.createElement("br",null),"     }",n.a.createElement("br",null),"     {{/ repeat}}",n.a.createElement("br",null),"   ],",n.a.createElement("br",null),"   \"oneItem\": \"{{ oneOf(array 'item1' 'item2' 'item3') }}\",",n.a.createElement("br",null),"   \"someItems\": \"{{ someOf(array 'item1' 'item2' 'item3') 1 2 }}\",",n.a.createElement("br",null),'   "userName":',n.a.createElement("br",null),"     {{#switch (urlParam 'id')}}",n.a.createElement("br",null),'       {{#case "1"}}"John"{{/case}}',n.a.createElement("br",null),'       {{#case "2"}}"Jack"{{/case}}',n.a.createElement("br",null),'       {{#default}}"Peter"{{/default }}',n.a.createElement("br",null),"     {{/switch}}",n.a.createElement("br",null),"}"))),n.a.createElement("div",{className:"columns"},n.a.createElement("div",{className:"column is-6 is-offset-3"},n.a.createElement("figure",{className:"image"},n.a.createElement("img",{src:"/static/images/tutorials/body-templating.jpg",alt:"Body response templating"})))),n.a.createElement("div",{className:"content"},n.a.createElement("p",null,"And the response you can get with the following request:"),n.a.createElement("p",null,n.a.createElement("code",null,"GET /user/123456?name=john",n.a.createElement("br",null),"Accept-Language: fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7",n.a.createElement("br",null),"Body:",n.a.createElement("br",null),"{",n.a.createElement("br",null),'  "element": [{"title": "My title"}]',n.a.createElement("br",null),"}"),n.a.createElement("br",null),n.a.createElement("br",null),"Response:",n.a.createElement("br",null),n.a.createElement("code",null,"{",n.a.createElement("br",null),'  "userId": "5",',n.a.createElement("br",null),'  "name": "john",',n.a.createElement("br",null),'  "lang": "fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7",',n.a.createElement("br",null),'  "elementTitle": "My title",',n.a.createElement("br",null),'  "ip": "::1",',n.a.createElement("br",null),'  "method": "GET",',n.a.createElement("br",null),'  "hostname": "localhost",',n.a.createElement("br",null),'  "friends": [',n.a.createElement("br",null),"    {",n.a.createElement("br",null),'      "id": 0,',n.a.createElement("br",null),'      "name": "Stephen Bradbury"',n.a.createElement("br",null),"    },",n.a.createElement("br",null),"    {",n.a.createElement("br",null),'      "id": 1,',n.a.createElement("br",null),'      "name": "Warren Caffey"',n.a.createElement("br",null),"    }",n.a.createElement("br",null),"  ],",n.a.createElement("br",null),'  "oneItem":"item1",',n.a.createElement("br",null),'  "someItems":"item2",',n.a.createElement("br",null),'  "userName":"John"',n.a.createElement("br",null),"}")),n.a.createElement("p",null,"This system is flexible enough so you can generate a lot of different contents like CSV files:"),n.a.createElement("p",null,n.a.createElement("code",null,"firstname,lastname,countryCode",n.a.createElement("br",null),"{{#repeat 10}}",n.a.createElement("br",null),"  {{firstName}},{{lastName}},{{countryCode}}",n.a.createElement("br",null),"{{/repeat}}"),n.a.createElement("br",null),n.a.createElement("br",null),"Response:",n.a.createElement("br",null),n.a.createElement("code",null,"firstname,lastname,countryCode",n.a.createElement("br",null),"Max,Magby,AZ",n.a.createElement("br",null),"Stan,Muldoon,HM",n.a.createElement("br",null),"Drew,Rebelo,CY",n.a.createElement("br",null),"Cory,Neal,BG",n.a.createElement("br",null),"Grace,Whitson,CY",n.a.createElement("br",null),"Haydee,Backer,ET",n.a.createElement("br",null),"Erik,Friedrich,MX",n.a.createElement("br",null),"Stephen,Paquette,PH",n.a.createElement("br",null),"Neida,Durrett,PN",n.a.createElement("br",null),"Vaughn,Neal,MO"))),n.a.createElement("div",{className:"content"},n.a.createElement("h3",null,"File input templating"),n.a.createElement("p",null,"The ",n.a.createElement("strong",null,"file input field")," in each route also supports templating with the same helpers. This allows you to dynamically serve files depending on the request parameters, like ",n.a.createElement("code",null,"urlParam")," or any other helper. Example:"),n.a.createElement("p",null,"If you have a set of files named ",n.a.createElement("code",null,"./file1.json"),", ",n.a.createElement("code",null,"./file2.json"),", etc and a route named ",n.a.createElement("code",null,"/:id")," you can use the ",n.a.createElement("code",null,"urlParam")," helper in the file input: ",n.a.createElement("code",null,"c:/.../file{{ urlParam 'id'}}.json"),"."),n.a.createElement("p",null,"If you call this route with an id ",n.a.createElement("code",null,"/1"),", ",n.a.createElement("code",null,"./file1.json")," will be sent.")),n.a.createElement("div",{className:"columns"},n.a.createElement("div",{className:"column is-6 is-offset-3"},n.a.createElement("figure",{className:"image"},n.a.createElement("img",{src:"/static/images/tutorials/file-input-templating.jpg",alt:"File input templating"})))),n.a.createElement("div",{className:"content"},n.a.createElement("h3",null,"Headers templating"),n.a.createElement("p",null,"Finally, templating helpers are also supported in ",n.a.createElement("strong",null,"headers values")," (both route headers and environment headers):")),n.a.createElement("div",{className:"columns"},n.a.createElement("div",{className:"column is-6 is-offset-3"},n.a.createElement("figure",{className:"image"},n.a.createElement("img",{src:"/static/images/tutorials/header-templating.jpg",alt:"Headers value templating"})))))}}},[["HO6Z","5d41","9da1"]]]);