<!DOCTYPE html><html><head><meta charSet="UTF-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/manifest.json"/><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#252830"/><meta name="theme-color" content="#ffffff"/><link href="https://fonts.googleapis.com/css?family=Lato&amp;subset=latin,latin-ext" rel="stylesheet"/><link rel="stylesheet" href="https://cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css"/><title>Create dynamic responses with templating - Mockoon</title><meta name="description" content="Create dynamic responses for your mock server with Mockoon&#x27;s templating system."/><meta property="og:image" content="https://mockoon.com/static/images/main.jpg"/><meta property="og:url" content="https://mockoon.com"/><meta property="og:title" content="Mockoon - Create dynamic responses with templating"/><meta property="og:description" content="Create dynamic responses for your mock server with Mockoon&#x27;s templating system."/><meta property="og:type" content="website"/><meta name="next-head-count" content="18"/><link rel="preload" href="/_next/static/v1.5.1/pages/tutorial/dynamic-response-with-templating.js" as="script"/><link rel="preload" href="/_next/static/v1.5.1/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-4b444dab214c6491079c.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.c3adb582f4a9e598c07a.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-a9ef81621ccc2a720506.js" as="script"/><link rel="stylesheet" href="/_next/static/css/commons.84bd1c11.chunk.css"/></head><body><div id="__next"><div><section class="hero is-small"><div class="hero-head"><header class="navbar"><div class="container"><div class="navbar-brand"><a href="/"><img src="/static/images/logo.svg" class="logo" alt="Logo" width="150"/></a><a role="button" class="navbar-burger " aria-label="menu" aria-expanded="false"><span aria-hidden="true"></span><span aria-hidden="true"></span><span aria-hidden="true"></span></a></div><div class="navbar-menu navbar-end "><a class="navbar-item" href="/features">Features</a><a class="navbar-item" href="/tutorials">Tutorials</a><a class="navbar-item" href="/faq">FAQ</a><a class="navbar-item" href="https://spectrum.chat/mockoon"><img src="https://withspectrum.github.io/badge/badge.svg" alt="Join the community on Spectrum"/></a></div></div></header></div><div class="hero-body"><div class="container has-text-centered"><h1 class="title is-spaced">Create dynamic responses with templating</h1><h2 class="subtitle mt20">Create dynamic responses for your mock server with Mockoon's templating system.</h2></div></div></section><section class="section is-light"><div class="container has-text-centered has-text-weight-semibold"><p class="title is-6">Get Mockoon latest version and start mocking!</p><p><a class="button is-primary" href="/#download"><span>Download</span></a></p></div></section><div class="section"><div class="container"><div class="content">Mockoon&#x27;s implements <a href="https://github.com/webroo/dummy-json" target="_blank">Dummy JSON</a> library in order to create dynamic responses. This templating system is supported in response&#x27;s <strong>body</strong>, <strong>headers</strong>, <strong>file content</strong>, and <strong>file path</strong>.<h3>Available helpers</h3><p>Dummy JSON offers lots of built-in helpers: <code>repeat</code>, <code>int</code>, <code>float</code>, <code>date</code>, <code>time</code>, <code>title</code>, <code>firstName</code>, <code>lastName</code>, <code>company</code>, <code>latitude</code>, <code>longitude</code>, <code>domain</code>, <code>TLD</code>, <code>email</code>, <code>street</code>, <code>city</code>, <code>country</code>, <code>phone</code>, <code>color</code>, <code>hexColor</code>, <code>guid</code>, <code>ipv4</code>, <code>ipv6</code>, <code>lorem</code>, <code>lowercase</code>, <code>uppercase</code>, etc. Please have a look at <a href="https://github.com/webroo/dummy-json#available-helpers" target="_blank">Dummy JSON documentation</a> to learn how to use them.</p><p>In addition to these helpers, some custom ones have been added to Mockoon:</p><ul><li><code>array &#x27;item1&#x27; &#x27;item2&#x27; &#x27;item3&#x27;</code>: create an array from items (to be used in the next helpers oneOf, someOf)</li><li><code>oneOf (array &#x27;item1&#x27; &#x27;item2&#x27; &#x27;item3&#x27;)</code>: select a random item in the array passed in parameters</li><li><code>someOf (array &#x27;item1&#x27; &#x27;item2&#x27; &#x27;item3&#x27;) x y</code>: returns x to y random items from the array passed in parameters concatenated as a string (to be used with double curly braces), result is the following: <code>item1,item2</code></li><li><code>{{{someOf (array &#x27;item1&#x27; &#x27;item2&#x27; &#x27;item3&#x27;) x y true}}}</code>: returns x to y random items from the array passed in parameters as an array (to be used with triple curly braces), result is the following: <code>[&quot;item1&quot;,&quot;item2&quot;]</code></li><li><code>#switch ... #case ... #default</code>: select content depending on a variable, like a normal switch :) (see example below)</li></ul><p>Mockoon also supports the following helpers which can gather request information:</p><ul><li><code>body &#x27;path&#x27; &#x27;default value&#x27;</code>: get a path from a request body&#x27;s JSON by default or from form params if request&#x27;s <code>Content-Type</code> header is set to <code>application/x-www-form-urlencoded</code>. Path has the following form <code>key.0.key.5.key</code> for JSON (syntax is based on <a href="https://www.npmjs.com/package/object-path">NPM <strong>object-path</strong> package</a>), or directly a param name like <code>firstname</code> for form params.</li><li><code>urlParam &#x27;paramName1&#x27;</code>: get a param from the URL <code>/:paramName1/:paramName2</code></li><li><code>queryParam &#x27;param1&#x27; &#x27;default value&#x27;</code>: get a param from the query string <code>?param1=xxx&amp;param2=yyy</code> or a default value if param is not present</li><li><code>header &#x27;Header-Name&#x27; &#x27;default value&#x27;</code>: get content from any request header or a default value if header is not present</li><li><code>hostname</code>: get request hostname</li><li><code>ip</code>: get request IP address</li><li><code>method </code>: get request method (GET, PUT, POST, etc.)</li><li><code>now &#x27;YYYY-MM-DD&#x27;</code>: display current time in the chosen format. Format syntax is based on <a href="https://date-fns.org/v1.30.1/docs/format">date-fns package</a> and is optional. Without providing it this helper will display an ISO string</li></ul><p><em>Please note that a space always follows the helper name and separates each and all params like in <code>oneOf *space* (array *space* &#x27;item1&#x27; *space* &#x27;item2&#x27;)</code>. Also, parenthesis serve to prioritize a helper over another and not to symbolize a function call. Helpers does not require parenthesis in order to work.</em></p><h3>Body and file content templating</h3><p>Templating will work in the body textarea without consideration for the Content-Type that has been defined. It will also work with files content for a limited set of MIME types (<code>application/json</code>, <code>text/html</code>, <code>text/css</code>, <code>text/csv</code>, <code>application/javascript</code>, <code>application/typescript</code>, <code>text/plain</code>, <code>application/xhtml+xml</code>, <code>application/xml</code>).</p><p>Here is an example of what you can do with this templating system:</p><p><code>{<br/>   &quot;userId&quot;: &quot;{{ urlParam &#x27;id&#x27;}}&quot;,<br/>   &quot;name&quot;: &quot;{{ queryParam &#x27;name&#x27; &#x27;John&#x27; }}&quot;,<br/>   &quot;lang&quot;: &quot;{{{header &#x27;Accept-Language&#x27; &#x27;en&#x27;}}}&quot;,<br/>   &quot;elementTitle&quot;: &quot;{{ body &#x27;elements.0.title&#x27; &#x27;default&#x27; }}&quot;,<br/>   &quot;ip&quot;: &quot;{{ ip }}&quot;,<br/>   &quot;method&quot;: &quot;{{ method }}&quot;,<br/>   &quot;hostname&quot;: &quot;{{ hostname }}&quot;,<br/>   &quot;friends&quot;: [<br/>     {{#repeat 2}}<br/>     {<br/>       &quot;id&quot;: {{@index}},<br/>       &quot;name&quot;: &quot;{{ firstName }} {{ lastName }}&quot;<br/>     }<br/>     {{/ repeat}}<br/>   ],<br/>   &quot;oneItem&quot;: &quot;{{ oneOf (array &#x27;item1&#x27; &#x27;item2&#x27; &#x27;item3&#x27;) }}&quot;,<br/>   &quot;someItemsAsString&quot;: &quot;{{ someOf (array &#x27;item1&#x27; &#x27;item2&#x27; &#x27;item3&#x27;) 1 2 }}&quot;,<br/>   &quot;someItemsAsArray&quot;: {{{ someOf (array &#x27;item1&#x27; &#x27;item2&#x27; &#x27;item3&#x27;) 1 2 true }}},<br/>   &quot;userName&quot;:<br/>     {{#switch (urlParam &#x27;id&#x27;)}}<br/>       {{#case &quot;1&quot;}}&quot;John&quot;{{/case}}<br/>       {{#case &quot;2&quot;}}&quot;Jack&quot;{{/case}}<br/>       {{#default}}&quot;Peter&quot;{{/default }}<br/>     {{/switch}}<br/>}</code></p></div><div class="columns"><div class="column is-6 is-offset-3"><figure class="image"><img src="/static/images/tutorials/body-templating.jpg" alt="Body response templating"/></figure></div></div><div class="content"><p>And the response you can get with the following request:</p><p><code>GET /user/123456?name=john<br/>Accept-Language: fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7<br/>Body:<br/>{<br/>  &quot;element&quot;: [{&quot;title&quot;: &quot;My title&quot;}]<br/>}</code><br/><br/>Response:<br/><code>{<br/>  &quot;userId&quot;: &quot;5&quot;,<br/>  &quot;name&quot;: &quot;john&quot;,<br/>  &quot;lang&quot;: &quot;fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7&quot;,<br/>  &quot;elementTitle&quot;: &quot;My title&quot;,<br/>  &quot;ip&quot;: &quot;::1&quot;,<br/>  &quot;method&quot;: &quot;GET&quot;,<br/>  &quot;hostname&quot;: &quot;localhost&quot;,<br/>  &quot;friends&quot;: [<br/>    {<br/>      &quot;id&quot;: 0,<br/>      &quot;name&quot;: &quot;Stephen Bradbury&quot;<br/>    },<br/>    {<br/>      &quot;id&quot;: 1,<br/>      &quot;name&quot;: &quot;Warren Caffey&quot;<br/>    }<br/>  ],<br/>  &quot;oneItem&quot;:&quot;item1&quot;,<br/>  &quot;someItemsAsString&quot;:&quot;item2&quot;,<br/>  &quot;someItemsAsArray&quot;:[&quot;item2&quot;, &quot;item3&quot;],<br/>  &quot;userName&quot;:&quot;John&quot;<br/>}</code></p><p>This system is flexible enough so you can generate a lot of different contents like CSV files:</p><p><code>firstname,lastname,countryCode<br/>{{#repeat 10}}<br/>  {{firstName}},{{lastName}},{{countryCode}}<br/>{{/repeat}}</code><br/><br/>Response:<br/><code>firstname,lastname,countryCode<br/>Max,Magby,AZ<br/>Stan,Muldoon,HM<br/>Drew,Rebelo,CY<br/>Cory,Neal,BG<br/>Grace,Whitson,CY<br/>Haydee,Backer,ET<br/>Erik,Friedrich,MX<br/>Stephen,Paquette,PH<br/>Neida,Durrett,PN<br/>Vaughn,Neal,MO</code></p></div><div class="content"><h3>File input templating</h3><p>The <strong>file input field</strong> in each route also supports templating with the same helpers. This allows you to dynamically serve files depending on the request parameters, like <code>urlParam</code> or any other helper. Example:</p><p>If you have a set of files named <code>./file1.json</code>, <code>./file2.json</code>, etc and a route named <code>/:id</code> you can use the <code>urlParam</code> helper in the file input: <code>c:/.../file{{ urlParam &#x27;id&#x27;}}.json</code>.</p><p>If you call this route with an id <code>/1</code>, <code>./file1.json</code> will be sent.</p></div><div class="columns"><div class="column is-6 is-offset-3"><figure class="image"><img src="/static/images/tutorials/file-input-templating.jpg" alt="File input templating"/></figure></div></div><div class="content"><h3>Headers templating</h3><p>Finally, templating helpers are also supported in <strong>headers values</strong> (both route headers and environment headers):</p></div><div class="columns"><div class="column is-6 is-offset-3"><figure class="image"><img src="/static/images/tutorials/header-templating.jpg" alt="Headers value templating"/></figure></div></div><div class="content"><h4 class="has-text-centered has-text-weight-semibold"><a href="/tutorials">Back to all tutorials</a></h4></div></div></div><section class="section is-light"><div class="container has-text-centered has-text-weight-semibold"><p>Join Mockoon&#x27;s mailing list to receive latest updates</p><div id="mc_embed_signup"><form action="https://mockoon.us17.list-manage.com/subscribe/post?u=a8822ec82cbe40c6dc5564bd4&amp;id=e054c8a3a4" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate=""><div id="mc_embed_signup_scroll"><input type="email" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required="" value=""/><div style="position:absolute;left:-5000px" aria-hidden="true"><input type="text" name="b_a8822ec82cbe40c6dc5564bd4_e054c8a3a4" tabindex="-1" value=""/></div><div class="clear"><input type="submit" name="subscribe" id="mc-embedded-subscribe" class="button" value="Subscribe"/></div><div id="mce-responses" class="clear" style="float:none"><div class="response" id="mce-error-response" style="display:none"></div><div class="response" id="mce-success-response" style="display:none"></div></div></div></form></div><p>Or follow us on Twitter</p><a href="https://twitter.com/GetMockoon?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-size="large" data-show-screen-name="false" data-dnt="true" data-show-count="false">Follow @GetMockoon</a></div></section><footer class="footer"><div class="container"><div class="content has-text-centered"><p>© Mockoon 2017 - present by <a href="https://github.com/255kb">255kb</a></p><p><a href="https://spectrum.chat/mockoon"><img src="https://withspectrum.github.io/badge/badge.svg" alt="Join the community on Spectrum"/></a></p><a class="github-button" href="https://github.com/mockoon/mockoon" data-size="large" data-show-count="true" aria-label="Star Mockoon on GitHub">Star</a></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"dataManager":"[]","props":{"pageProps":{}},"page":"/tutorial/dynamic-response-with-templating","query":{},"buildId":"v1.5.1","dynamicBuildId":false,"nextExport":true}</script><script async="" data-next-page="/tutorial/dynamic-response-with-templating" src="/_next/static/v1.5.1/pages/tutorial/dynamic-response-with-templating.js"></script><script async="" data-next-page="/_app" src="/_next/static/v1.5.1/pages/_app.js"></script><script src="/_next/static/runtime/webpack-4b444dab214c6491079c.js" async=""></script><script src="/_next/static/chunks/commons.c3adb582f4a9e598c07a.js" async=""></script><script src="/_next/static/runtime/main-a9ef81621ccc2a720506.js" async=""></script></body></html>