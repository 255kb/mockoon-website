<!DOCTYPE html>
<html lang="en">

  <head>
    <base href="/">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create dynamic responses with templating - Mockoon</title>
    <meta name="description" content="Create dynamic responses for your mock server with Mockoon&#x27;s templating system.">
    <link rel="stylesheet" href="https://cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css">
    <link href="/assets/css/style.css" rel="stylesheet">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#252830">
    <meta name="theme-color" content="#ffffff">
      <link rel="canonical" href="https://mockoon.com/tutorial/dynamic-response-with-templating">

          <link rel="alternate" hreflang="en" href="https://mockoon.com/tutorial/dynamic-response-with-templating">

      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-7759211-14', 'auto');
        ga('send', 'pageview');
      </script>
    <meta property="og:image" content="https://mockoon.com/images/main.jpg">
    <meta property="og:url" content="https://mockoon.com">
    <meta property="og:title" content="Mockoon - Create dynamic responses with templating">
    <meta property="og:description" content="Create dynamic responses for your mock server with Mockoon&#x27;s templating system.">
    <meta property="og:type" content="website">
  </head>

  <body>
  <section class="hero is-small">
    <div class="hero-head">
      <header class="navbar">
        <div class="container">
          <div class="navbar-brand">
            <a href="/">
              <img src="assets/images/logo.svg" class="logo" alt="Logo" width="150">
            </a>
      
            <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
              <span aria-hidden="true"></span>
              <span aria-hidden="true"></span>
              <span aria-hidden="true"></span>
            </a>
          </div>
          <div class="navbar-menu navbar-end" id="navMenu">
            <a class="navbar-item" href="features">
              Features
            </a>
            <a class="navbar-item" href="tutorials">
              Tutorials
            </a>
            <a class="navbar-item" href="faq">
              FAQ
            </a>
            <a class="navbar-item" href="https://github.com/255kb/mockoon/wiki">
              App wiki
            </a>
            <a class="navbar-item" href="https://spectrum.chat/mockoon">
              <img src="https://withspectrum.github.io/badge/badge.svg" alt="Join the community on Spectrum">
            </a>
          </div>
        </div>
      </header>
    </div>
  
    <div class="hero-body">
      <div class="container has-text-centered">
        <h1 class="title is-spaced">
          Create dynamic responses with templating
        </h1>
        <h2 class="subtitle mt20">
          Create dynamic responses for your mock server with Mockoon&#x27;s templating system.
        </h2>
      </div>
    </div>
  </section>

  <section class="section is-light">
    <div class="container has-text-centered has-text-weight-semibold">
      <p class="title is-6">Get Mockoon latest version and start mocking!</p>
      <p><a class="button is-primary" href="#download"><span>Download</span></a></p>
    </div>
  </section>

  <div class="section">
    <div class="container">
      <div class="content">
        Mockoon's implements <a href="https://github.com/webroo/dummy-json" target="_blank">Dummy JSON</a> library in order to create dynamic responses. This templating system is supported in response's <strong>body</strong>, <strong>headers</strong>, <strong>file content</strong>, and <strong>file path</strong>.
        <h3>Available helpers</h3>
        <p>Dummy JSON offers lots of built-in helpers: <code>repeat</code>, <code>int</code>, <code>float</code>, <code>date</code>, <code>time</code>, <code>title</code>, <code>firstName</code>, <code>lastName</code>, <code>company</code>, <code>latitude</code>, <code>longitude</code>, <code>domain</code>, <code>TLD</code>, <code>email</code>, <code>street</code>, <code>city</code>, <code>country</code>, <code>phone</code>, <code>color</code>, <code>hexColor</code>, <code>guid</code>, <code>ipv4</code>, <code>ipv6</code>, <code>lorem</code>, <code>lowercase</code>, <code>uppercase</code>, etc. Please have a look at <a href="https://github.com/webroo/dummy-json#available-helpers" target="_blank">Dummy JSON documentation</a> to learn how to use them.</p>
        <p>In addition to these helpers, some custom ones have been added to Mockoon:</p>
        <ul>
          <li><code>array 'item1' 'item2' 'item3'</code>: create an array from items (to be used in the next helpers oneOf, someOf)</li><li><code>oneOf (array 'item1' 'item2' 'item3')</code>: select a random item in the array passed in parameters</li><li><code>someOf (array 'item1' 'item2' 'item3') x y</code>: select x to y random items in the array passed in parameters</li><li><code>#switch ... #case ... #default</code>: select content depending on a variable, like a normal switch :) (see example below)</li>
        </ul>
        <p>Mockoon also supports the following helpers which can gather request information:</p>
        <ul>
          <li><code>body 'path' 'default value'</code>: get a path from a request body JSON. Path has the following form: <code>key.0.key.5.key</code> (syntax is based on NPM <code>object-path</code> package)</li><li><code>urlParam 'paramName1'</code>: get a param from the URL <code>/:paramName1/:paramName2</code></li><li><code>queryParam 'param1' 'default value'</code>: get a param from the query string <code>?param1=xxx&#38;param2=yyy</code> or a default value if param is not present</li><li><code>header 'Header-Name' 'default value'</code>: get content from any request header or a default value if header is not present</li><li><code>hostname</code>: get request hostname</li><li><code>ip</code>: get request IP address</li><li><code>method </code>: get request method (GET, PUT, POST, etc.)</li>
        </ul>
        <h3>Body and file content templating</h3>
        <p>Templating will work in the body textarea without consideration for the Content-Type that has been defined. It will also work with files content for a limited set of MIME types (<code>application/json</code>, <code>text/html</code>, <code>text/css</code>, <code>text/csv</code>, <code>application/javascript</code>, <code>application/typescript</code>, <code>text/plain</code>, <code>application/xhtml+xml</code>, <code>application/xml</code>).</p>
        <p>Here is an example of what you can do with this templating system:</p>
        <p><code>{<br>   "userId": "{{urlParam 'id'}}",<br>   "name": "{{queryParam 'name' 'John'}}",<br>   "lang": "{{{header 'Accept-Language' 'en'}}}",<br>   "elementTitle": "{{body 'elements.0.title' 'default'}}",<br>   "ip": "{{ip}}",<br>   "method": "{{method}}",<br>   "hostname": "{{hostname}}",<br>   "friends": [<br>     {{#repeat 2}}<br>     {<br>       "id": {{@index}},<br>       "name": "{{firstName}} {{lastName}}"<br>     }<br>     {{/repeat}}<br>   ],<br>   "oneItem": "{{oneOf (array 'item1' 'item2' 'item3')}}",<br>   "someItems": "{{someOf (array 'item1' 'item2' 'item3') 1 2}}",<br>   "userName":<br>     {{#switch (urlParam 'id')}}<br>       {{#case "1"}}"John"{{/case}}<br>       {{#case "2"}}"Jack"{{/case}}<br>       {{#default}}"Peter"{{/default}}<br>     {{/switch}}<br>}</code></p>
      </div>
      <div class="columns">
        <div class="column is-6 is-offset-3">
          <figure class="image">
            <img src="assets/images/tutorials/body-templating.jpg" alt="Body response templating">
          </figure>
        </div>
      </div>
      <div class="content">
        <p>And the response you can get with the following request:</p>
        <p><code>GET /user/123456?name=john<br>Accept-Language: fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7<br>Body:<br>{<br>  "element": [{"title": "My title"}]<br>}</code><br><br>Response:<br><code>{<br>  "userId": "5",<br>  "name": "john",<br>  "lang": "fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7",<br>  "elementTitle": "My title",<br>  "ip": "::1",<br>  "method": "GET",<br>  "hostname": "localhost",<br>  "friends": [<br>    {<br>      "id": 0,<br>      "name": "Stephen Bradbury"<br>    },<br>    {<br>      "id": 1,<br>      "name": "Warren Caffey"<br>    }<br>  ],<br>  "oneItem":"item1",<br>  "someItems":"item2",<br>  "userName":"John"<br>}</code></p>
        <p>This system is flexible enough so you can generate a lot of different contents like CSV files:</p>
        <p><code>firstname,lastname,countryCode<br>{{#repeat 10}}<br>  {{firstName}},{{lastName}},{{countryCode}}<br>{{/repeat}}</code><br><br>Response:<br><code>firstname,lastname,countryCode<br>Max,Magby,AZ<br>Stan,Muldoon,HM<br>Drew,Rebelo,CY<br>Cory,Neal,BG<br>Grace,Whitson,CY<br>Haydee,Backer,ET<br>Erik,Friedrich,MX<br>Stephen,Paquette,PH<br>Neida,Durrett,PN<br>Vaughn,Neal,MO</code></p>
      </div>
      <div class="content">
        <h3>File input templating</h3>
        <p>The <strong>file input field</strong> in each route also supports templating with the same helpers. This allows you to dynamically serve files depending on the request parameters, like <code>urlParam</code> or any other helper. Example:</p>
        <p>If you have a set of files named <code>./file1.json</code>, <code>./file2.json</code>, etc and a route named <code>/:id</code> you can use the <code>urlParam</code> helper in the file input: <code>c:/.../file{{urlParam 'id'}}.json</code>.</p>
        <p>If you call this route with an id <code>/1</code>, <code>./file1.json</code> will be sent.</p>
      </div>
      <div class="columns">
        <div class="column is-6 is-offset-3">
          <figure class="image">
            <img src="assets/images/tutorials/file-input-templating.jpg" alt="File input templating">
          </figure>
        </div>
      </div>
      <div class="content">
        <h3>Headers templating</h3>
        <p>Finally, templating helpers are also supported in <strong>headers values</strong> (both route headers and environment headers):</p>
      </div>
      <div class="columns">
        <div class="column is-6 is-offset-3">
          <figure class="image">
            <img src="assets/images/tutorials/header-templating.jpg" alt="Headers value templating">
          </figure>
        </div>
      </div>

      <div class="content">
        <h4 class="has-text-centered has-text-weight-semibold"><a href="tutorials">Back to all tutorials</a></h4>
      </div>
    </div>
  </div>

  <section class="section is-light">
    <div class="container has-text-centered has-text-weight-semibold">
      <p>Join Mockoon&#x27;s mailing list to receive latest updates</p>
      <div id="mc_embed_signup">
        <form action="https://mockoon.us17.list-manage.com/subscribe/post?u=a8822ec82cbe40c6dc5564bd4&amp;id=e054c8a3a4" method="post"
          id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
          <div id="mc_embed_signup_scroll">
            <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
            <div id="mce-responses" class="clear">
              <div class="response" id="mce-error-response" style="display:none"></div>
              <div class="response" id="mce-success-response" style="display:none"></div>
            </div>
            <div style="position: absolute; left: -5000px;" aria-hidden="true">
              <input type="text" name="b_a8822ec82cbe40c6dc5564bd4_e054c8a3a4" tabindex="-1" value="">
            </div>
            <div class="clear">
              <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button">
            </div>
          </div>
        </form>
      </div>
    </div>
  </section>

    <footer class="footer">
      <div class="container">
        <div class="content has-text-centered">
          <p>
            &copy; Mockoon 2017 - present by <a href="https://255kb.com">Guillaume Monnet</a>
          </p>
          <p>
            <a href="https://spectrum.chat/mockoon">
              <img src="https://withspectrum.github.io/badge/badge.svg" alt="Join the community on Spectrum">
            </a>
          </p>
          <a class="github-button" href="https://github.com/255kb/mockoon" data-size="large" data-show-count="true" aria-label="Star Mockoon on GitHub">Star</a>
        </div>
      </div>
    </footer>

    <script type='text/javascript' src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script><script type='text/javascript'>(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';fnames[1]='FNAME';ftypes[1]='text';fnames[2]='LNAME';ftypes[2]='text';fnames[3]='ADDRESS';ftypes[3]='address';fnames[4]='PHONE';ftypes[4]='phone';fnames[5]='MMERGE5';ftypes[5]='date';}(jQuery));var $mcj = jQuery.noConflict(true);</script>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);
        if ($navbarBurgers.length > 0) {
          $navbarBurgers.forEach( el => {
            el.addEventListener('click', () => {
              const target = el.dataset.target;
              const $target = document.getElementById(target);
              el.classList.toggle('is-active');
              $target.classList.toggle('is-active');
            });
          });
        }
      });
    </script>
    <script async defer src="https://buttons.github.io/buttons.js"></script>
  </body>
</html>
